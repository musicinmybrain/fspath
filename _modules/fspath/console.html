
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>fspath.console &#8212; FSPath 20190323 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">FSPath 20190323 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">fspath.console</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for fspath.console</h1><div class="highlight"><pre>
<span></span># -*- mode: python; coding: utf-8 -*-
# pylint: disable=invalid-name, bad-continuation
&quot;&quot;&quot;
Some *console* stuff
&quot;&quot;&quot;

import os
import sys

from .helper import Options

CONSOLE_TYPE = None
if (sys.platform.startswith(&#39;linux&#39;)
    or sys.platform.startswith(&#39;darwin&#39;)
    or sys.platform.startswith(&#39;freebsd&#39;)):
    CONSOLE_TYPE = &#39;tty&#39;

elif sys.platform in (&#39;win32&#39;, &#39;cygwin&#39;):
    CONSOLE_TYPE = &#39;cmd&#39;
# else:
#     raise NotImplementedError(
#         &#39;The platform %s is not supported yet&#39; % sys.platform)

# ==============================================================================
<div class="viewcode-block" id="consoleDimension"><a class="viewcode-back" href="../../fspath-api/fspath.console.html#fspath.console.consoleDimension">[docs]</a>def consoleDimension():
# ==============================================================================
    u&quot;&quot;&quot;Returns count of (row, columns) from current console

    .. hint:

       Since Win-CMD adds a newline if the last column is filled with a
       character it is recomended to use one column less.

    &quot;&quot;&quot;

    # pylint: disable=broad-except
    rows, columns = 25, 80

    if CONSOLE_TYPE == &#39;cmd&#39;:
        try:
            rows, columns = consoleDimensionsWIN()
        except Exception:
            pass
    else:
        try:
            rows, columns = consoleDimensionsLinux()
        except Exception:
            pass
    try:
        rows = int(rows)
    except Exception:
        pass

    try:
        columns = int(columns)
    except Exception:
        pass

    return rows, columns</div>

<div class="viewcode-block" id="consoleDimensionsLinux"><a class="viewcode-back" href="../../fspath-api/fspath.console.html#fspath.console.consoleDimensionsLinux">[docs]</a>def consoleDimensionsLinux():
    u&quot;&quot;&quot;Returns count of (row, columns) from current console&quot;&quot;&quot;
    rows, columns = os.popen(&#39;stty size&#39;, &#39;r&#39;).read().split()
    return rows, columns</div>

<div class="viewcode-block" id="consoleDimensionsWIN"><a class="viewcode-back" href="../../fspath-api/fspath.console.html#fspath.console.consoleDimensionsWIN">[docs]</a>def consoleDimensionsWIN():
    u&quot;&quot;&quot;Returns count of (row, columns) from current console&quot;&quot;&quot;
    # pylint: disable=too-many-locals
    from ctypes import windll, create_string_buffer

    # stdin handle is -10
    # stdout handle is -11
    # stderr handle is -12

    h = windll.kernel32.GetStdHandle(-12)
    csbi = create_string_buffer(22)
    res = windll.kernel32.GetConsoleScreenBufferInfo(h, csbi)

    columns, rows = 80, 25
    if res:
        import struct
        (_bufx, _bufy, _curx, _cury, _wattr,
         left, top, right, bottom, _maxx, _maxy) = struct.unpack(&quot;hhhhHhhhhhh&quot;, csbi.raw)
        columns = right - left + 1
        rows    = bottom - top + 1

    return rows, columns</div>


# pylint: disable-msg=C0103
KEY = Options(
    # common
    LF      = &#39;\x0d&#39;
    , CR    = &#39;\x0a&#39;
    , ENTER = &#39;\x0d&#39;
    , SPACE = &#39;\x20&#39;
    , ESC   = &#39;\x1b&#39;
    , TAB   = &#39;\x09&#39;

    # CTRL
    , CTRL_A = &#39;\x01&#39;
    , CTRL_B = &#39;\x02&#39;
    , CTRL_C = &#39;\x03&#39;
    , CTRL_D = &#39;\x04&#39;
    , CTRL_E = &#39;\x05&#39;
    , CTRL_F = &#39;\x06&#39;
    , CTRL_Z = &#39;\x1a&#39;

    # ALT
    , ALT_A = &#39;\x1b\x61&#39;

    # CTRL + ALT
    , CTRL_ALT_A = &#39;\x1b\x01&#39;

    # cursors
    , UP    = &#39;\x1b\x5b\x41&#39;
    , DOWN  = &#39;\x1b\x5b\x42&#39;
    , LEFT  = &#39;\x1b\x5b\x44&#39;
    , RIGHT = &#39;\x1b\x5b\x43&#39;

    # other
    , F1  = &#39;\x1b\x4f\x50&#39;
    , F2  = &#39;\x1b\x4f\x51&#39;
    , F3  = &#39;\x1b\x4f\x52&#39;
    , F4  = &#39;\x1b\x4f\x53&#39;
    , F5  = &#39;\x1b\x4f\x31\x35\x7e&#39;
    , F6  = &#39;\x1b\x4f\x31\x37\x7e&#39;
    , F7  = &#39;\x1b\x4f\x31\x38\x7e&#39;
    , F8  = &#39;\x1b\x4f\x31\x39\x7e&#39;
    , F9  = &#39;\x1b\x4f\x32\x30\x7e&#39;
    , F10 = &#39;\x1b\x4f\x32\x31\x7e&#39;
    , F11 = &#39;\x1b\x4f\x32\x33\x7e&#39;
    , F12 = &#39;\x1b\x4f\x32\x34\x7e&#39;

    , PAGE_UP   = &#39;\x1b\x5b\x35\x7e&#39;
    , PAGE_DOWN = &#39;\x1b\x5b\x36\x7e&#39;

    , HOME    = &#39;\x1b\x5b\x48&#39;
    , END     = &#39;\x1b\x5b\x46&#39;
    , BACKTAB = &#39;\x1b\x5b\x5a&#39;

    , BACKSPACE = &#39;\x7f&#39;

    , INSERT = &#39;\x1b\x5b\x32\x7e&#39;
    , DELETE = &#39;\x1b\x5b\x33\x7e&#39;
    )


if CONSOLE_TYPE == &#39;cmd&#39;:

    # ALT
    KEY.ALT_A = None

    # CTRL + ALT
    KEY.CTRL_ALT_A = &#39;\x00\x1e&#39;

    # cursors
    KEY.UP    = &#39;\xe0\x49&#39;
    KEY.DOWN  = &#39;\xe0\x50&#39;
    KEY.LEFT  = &#39;\xe0\x4b&#39;
    KEY.RIGHT = &#39;\xe0\x4d&#39;

    # other
    KEY.F1  = &#39;\x00\x3b&#39;
    KEY.F2  = &#39;\x00\x3c&#39;
    KEY.F3  = &#39;\x00\x3d&#39;
    KEY.F4  = &#39;\x00\x3e&#39;
    KEY.F5  = &#39;\x00\x3f&#39;
    KEY.F6  = &#39;\x00\x40&#39;
    KEY.F7  = &#39;\x00\x41&#39;
    KEY.F8  = &#39;\x00\x42&#39;
    KEY.F9  = &#39;\x00\x43&#39;
    KEY.F10 = &#39;\x00\x44&#39;
    KEY.F11 = &#39;\x00\x85&#39;
    KEY.F12 = &#39;\x00\x86&#39;

    KEY.PAGE_UP   = &#39;\xe0\x49&#39;
    KEY.PAGE_DOWN = &#39;\xe0\x51&#39;

    KEY.HOME    = &#39;\xe0\x47&#39;
    KEY.END     = &#39;\xe0\x4f&#39;
    KEY.BACKTAB = None

    KEY.BACKSPACE = &#39;\x08&#39;

    KEY.INSERT = &#39;\xe0\x52&#39;
    KEY.DELETE = &#39;\xe0\x53&#39;
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/darmarIT_logo_128.png" alt="Logo"/>
            </a></p>
  
<h3>Navigation</h3>
<ul>
  <li><a href="../../index.html">Overview</a>
    <ul>
      <li><a href="../index.html">Module code</a>
        
          
          </ul>
      </li>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div id="ethical-ad-placement"></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023 Markus Heiser.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  <script src="../../_static/version_warning_offset.js"></script>

  </body>
</html>